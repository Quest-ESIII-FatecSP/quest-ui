<div class="top-bar">
  <div class="player-info">
    <img id="player1-icon" src="https://i.pravatar.cc/50?img=3" />
    <span class="player-name" id="player1-name">Jogador1</span>
    <span class="points" id="player1-points">0 pts</span>
  </div>

  <div class="timer-area">
    <div class="timer-container">
      <svg width="60" height="60">
        <circle cx="30" cy="30" r="27" stroke="#333" />
        <circle id="timer-circle" class="timer-circle" cx="30" cy="30" r="27" stroke="#00FF00" stroke-dasharray="170" stroke-dashoffset="0" />
      </svg>
      <div id="timer-text" class="timer-text">15</div>
    </div>
 
    <button title="Voltar ao Lobby" routerLink="/lobby"
      style="margin-left:8px;padding:6px 8px;border-radius:8px;cursor:pointer;background:#2b2b5a;color:#ffffff; border: 2px solid gold;">Desistir</button>
  </div>

  <div class="player-info">
    <img id="player2-icon" src="https://i.pravatar.cc/50?img=5" />
    <span class="player-name" id="player2-name">Jogador2</span>
    <span class="points" id="player2-points">0 pts</span>
  </div>
</div>


<div id="game-area">
  <div id="roleta-area" style="display:flex;flex-direction:column;align-items:center;gap:12px;margin-top:-40px;">
    <div class="fw-modal-like" style="overflow:visible;position:relative;">

      <app-quest-wheel [locked]="roletaTravada" (spinStart)="roletaComecouSpin($event)" (spinEnd)="onSpinEnd($event)" [targetIndex]="temaSelecionado"></app-quest-wheel>

    </div>
  </div>

  <app-card-selection
    *ngIf="showCardSelectionUI"
    [leftCards]="leftCards"
    [rightCards]="rightCards"
    [activeSide]="isMyTurn ? 'left' : 'right'"
    [leftTitle]="'Suas Cartas'"
    [rightTitle]="'Cartas do Oponente'"
    (pickRequested)="onCardPickRequested($event)"
    class="cards-containers"
  ></app-card-selection>

</div>


<!-- MODAL DA CATEGORIA SORTEADA -->
<div style="z-index: 999999;" class="theme-modal-backdrop" *ngIf="themeModalOpen" (click)="closeThemeModal()">
  <div class="theme-modal" (click)="$event.stopPropagation()" role="dialog" aria-modal="true"
    aria-labelledby="themeTitle">
    <img class="theme-icon" *ngIf="categoriaSelecionada?.iconUrl" [src]="'assets/img/' + categoriaSelecionada?.iconUrl" alt="" />
    <h2 id="themeTitle">{{ categoriaSelecionada?.label || 'Tema' }}</h2>
    <p class="theme-sub">Categoria sorteada</p>
  </div>
</div>
